## tochka — пакет для двумерных точек и аффинных преобразований.

[![godoc](https://godoc.org/github.com/go-pkgz/tochka?status.svg)](https://pkg.go.dev/github.com/MiCkEyZzZ/tochka?tab=doc)

`tochka` — это пакет на языке Go, которая предоставляет функционал для работы
с двухмерными точками и матрицами аффинных преобразований. Этот пакет идеально
подходит для графических приложений, обработки геометрии и других задач,
связанных с 2М-пространством.

## Особенности

- **Работа с точками:**
  - Операции сложения, вычитания, умножения и деления.
  - Округление координат до целых чисел.
  - Вычисление скалярного произведения (`Dot`).
  - Вычисление псевдовекторного произведения (`Cross`).
  - Нахождение длины вектора (`Magnitude`).
  - Удобное строковое представление точек в формате `(X, Y)`.

- **Аффинные преобразования:**
  - Операции сдвига, масштабирования, вращения и наклона (shear).
  - Комбинирование преобразований с помощью умножения матриц.
  - Инверсия матрицы преобразования.
  - Применение преобразований к двумерным точкам.

- Простое и интуитивное API для разработчиков.

## Установка

Для установки пакета используйте команду:

```zsh
go get github.com/MiCkEyZzZ/tochka
```

## Пример использования

### Работа с точками

```go
package main

import (
	"fmt"

	"github.com/MiCkEyZzZ/tochka"
)

func main() {
	p1 := tochka.NewPoint(2.5, 3.7)
	p2 := tochka.NewPoint(1.2, -0.5)

	sum := p1.Add(p2)
	fmt.Println("Сумма точек:", sum)  // Сумма точек: (3.700000, 3.200000)

	rounded := sum.Round()
	fmt.Println("Округленные координаты: ", rounded)  // Округленные координаты: (4, 3)
}
```

### Аффинные преобразования

```go
package main

import (
	"fmt"

	"github.com/MiCkEyZzZ/tochka"
)

func main() {
	transform := tochka.NewAffine2D(1, 0, 10, 0, 1, 20) // Сдвиг на (10, 20)

	point := tochka.NewPoint(5, 5)
	transformed := transform.Transform(point)

	fmt.Println("Исходная точка:", point)  // Исходная точка: (5.000000, 5.000000)
	fmt.Println("После преобразования:", transformed)  // После преобразования: (15.000000, 25.000000)
}
```

## API

Пакет предоставляет следующие ключевые методы для работы с точками и аффинными преобразованиями:

### Для типа `Point`:

- `NewPoint(x, y float32) Point`: Создаёт точку с заданными координатами.
- `Add(other Point) Point`: Складывает текущую точку с другой.
- `Sub(other Point) Point`: Вычитает другую точку из текущей.
- `Mul(scale Point) Point`: Умножает координаты точки на коэффициенты.
- `Div(scale Point) (Point, error)`: Делит координаты точки, возвращая ошибку при делении на 0.
- `Round() Point`: Округляет координаты до ближайших целых.
- `Dot(other Point) float32`: Вычисляет скалярное произведение двух векторов.
- `Cross(other Point) float32`: Вычисляет псевдовекторное произведение (детерминант) двух векторов.
- `Magnitude() float32`: Возвращает длину вектора.

### Для типа `Affine2D`:

- `NewAffine2D(sx, hx, ox, hy, sy, oy float32) Affine2D`: Создаёт аффинное преобразование.
- `Offset(offset Point) Affine2D`: Выполняет сдвиг матрицы на указанный вектор.
- `Scale(origin, factor Point) Affine2D`: Масштабирует относительно заданной точки.
- `Rotate(origin Point, radians float32) Affine2D`: Вращает точку на угол в радианах.
- `Shear(origin Point, radiansX, radiansY float32) Affine2D`: Применяет наклон (shear).
- `Mul(other Affine2D) Affine2D`: Умножает матрицы для комбинирования преобразований.
- `Invert() Affine2D`: Вычисляет обратное преобразование.
- `Transform(p Point) Point`: Применяет преобразование к точке.
- `Elems() (sx, hx, ox, hy, sy, oy float32)`: Возвращает элементы матрицы.
- `Split() (Affine2D, Point)`: Разделяет преобразование на матрицу и вектор сдвига.

Полный список методов и их описание можно найти в [документации](https://pkg.go.dev/github.com/MiCkEyZzZ/tochka).

## Лицензия

Этот проект распространяется под лицензией MIT. Полный текст лицензии доступен в файле [ЛИЦЕНЗИЯ](./LICENSE).
